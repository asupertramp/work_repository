import java.util.*;import java.io.*;public class OrderStatisticTest{	public static void main(String[] args){		int[] arr={9,8,7,6,5,4,3,2,1};		Scanner in=new Scanner(System.in);		while(true){			System.out.println("输入要查找的第i小的数：");			int i=Integer.parseInt(in.next());			//int s=selectStatisticRecur(arr,0,arr.length-1,i);			int s=selecStatisticsIter(arr,0,arr.length-1,i);			System.out.printf("第%d小的数:%d\n",i,s);		}			}	private static int selectStatisticRecur(int[] arr,int p,int r,int i){		if(p==r)			return arr[p];		int q=randomPartion(arr,p,r);		int k=q-p+1;		if(k==i)			return arr[q];		else if(k>i)			return selectStatisticRecur(arr,p,q-1,i);		else 			return selectStatisticRecur(arr,q+1,r,i-k);	}	private static int selecStatisticsIter(int[] arr,int p,int r,int i){		int q=randomPartion(arr,p,r);		while(p!=r)		{			if(q==i)				return arr[q];			else if(q>i){				r=q-1;				q=randomPartion(arr,p,r);			}			else{				p=q+1;				q=randomPartion(arr,p,r);			}					}		return arr[p];	}	private  static int partion(int[] arr,int beg,int end){		int part=arr[end],temp;		int i=beg-1;		for(int j=beg;j<end;j++){			if(arr[j]<=part){				i++;				temp=arr[i];				arr[i]=arr[j];				arr[j]=temp;			}		}		arr[end]=arr[i+1];		arr[i+1]=part;		return i+1;	}	private static int randomPartion(int[] arr,int beg,int end){		Random rad=new Random();		int i=beg+rad.nextInt(end-beg+1);		int temp=arr[end];		arr[end]=arr[i];		arr[i]=temp;		return partion(arr,beg,end);	}}